var e,r;"function"==typeof(e=globalThis.define)&&(r=e,e=null),function(r,t,n,o,i){var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s="function"==typeof a[o]&&a[o],u=s.cache||{},c="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function f(e,t){if(!u[e]){if(!r[e]){var n="function"==typeof a[o]&&a[o];if(!t&&n)return n(e,!0);if(s)return s(e,!0);if(c&&"string"==typeof e)return c(e);var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}p.resolve=function(t){var n=r[e][1][t];return null!=n?n:t},p.cache={};var l=u[e]=new f.Module(e);r[e][0].call(l.exports,p,l,l.exports,this)}return u[e].exports;function p(e){var r=p.resolve(e);return!1===r?{}:f(r)}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=r,f.cache=u,f.parent=s,f.register=function(e,t){r[e]=[function(e,r){r.exports=t},{}]},Object.defineProperty(f,"root",{get:function(){return a[o]}}),a[o]=f;for(var l=0;l<t.length;l++)f(t[l]);if(n){var p=f(n);"object"==typeof exports&&"undefined"!=typeof module?module.exports=p:"function"==typeof e&&e.amd?e(function(){return p}):i&&(this[i]=p)}}({"1P0Vk":[function(e,r,t){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(t),n.export(t,"SurveyService",()=>a),n.export(t,"surveyService",()=>s);var o=e("../supabase"),i=e("./auth-service");class a{async submitSurveyResponse(r){try{let t=(0,i.authService).getCurrentState(),n=t.user?.email,{SURVEY_OPTIONS:a}=await e("b541ab79b43f4837"),s=a.find(e=>e.id===r.optionId),u={optionId:r.optionId,optionText:s?.text||r.optionId,timestamp:r.timestamp,userEmail:n,exportContext:r.exportContext},{data:c,error:f}=await (0,o.supabase).functions.invoke("submit-survey-response",{body:u});if(f)return console.error("\u274c Error submitting survey response:",f),{success:!1,error:f.message};return{success:!0}}catch(e){return console.error("\u274c Survey submission error:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}async submitSurveyResponseSimple(e,r){try{let t={optionId:e,timestamp:Date.now(),exportContext:r};return await this.submitSurveyResponse(t)}catch(e){return console.error("\u274c Simple survey submission error:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}}let s=new a},{"../supabase":"gnzcN","./auth-service":"eQfzB",b541ab79b43f4837:"i5wOJ","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],i5wOJ:[function(e,r,t){r.exports=e("9b3647a71af1e7e5")(e("cb6cb627d76ea015").getBundleURL("2DbDS")+e("41afc4a50a398123").resolve("5GxHO")).then(()=>r.bundle.root("1mMDe"))},{"9b3647a71af1e7e5":"8Xj3B",cb6cb627d76ea015:"87g1w","41afc4a50a398123":"i6vFE"}],"8Xj3B":[function(e,r,t){var n=e("ca2a84f7fa4a3bb0");r.exports=n(function(e){return new Promise(function(r,t){if([].concat(document.getElementsByTagName("script")).some(function(r){return r.src===e})){r();return}var n=document.createElement("link");n.href=e,n.rel="preload",n.as="script",document.head.appendChild(n);var o=document.createElement("script");o.async=!0,o.type="text/javascript",o.src=e,o.onerror=function(r){var n=TypeError("Failed to fetch dynamically imported module: ".concat(e,". Error: ").concat(r.message));o.onerror=o.onload=null,o.remove(),t(n)},o.onload=function(){o.onerror=o.onload=null,r()},document.getElementsByTagName("head")[0].appendChild(o)})})},{ca2a84f7fa4a3bb0:"c52pR"}],c52pR:[function(e,r,t){var n={},o={},i={};r.exports=function(e,r){return function(t){var a=function(e){switch(e){case"preload":return o;case"prefetch":return i;default:return n}}(r);return a[t]?a[t]:a[t]=e.apply(null,arguments).catch(function(e){throw delete a[t],e})}}},{}],"87g1w":[function(e,r,t){var n={};function o(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}t.getBundleURL=function(e){var r=n[e];return r||(r=function(){try{throw Error()}catch(r){var e=(""+r.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g);if(e)return o(e[2])}return"/"}(),n[e]=r),r},t.getBaseURL=o,t.getOrigin=function(e){var r=(""+e).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^/]+/);if(!r)throw Error("Origin not found");return r[0]}},{}],i6vFE:[function(e,r,t){var n={};r.exports.register=function(e){for(var r=Object.keys(e),t=0;t<r.length;t++)n[r[t]]=e[r[t]]},r.exports.resolve=function(e){var r=n[e];if(null==r)throw Error("Could not resolve bundle with id "+e);return r}},{}]},[],null,"parcelRequire709e"),globalThis.define=r;